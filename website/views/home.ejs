<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neo Life Condo</title>
    <link rel="stylesheet" href="../static/css/home.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@100..900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="../static/img/logo.png">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> -->
</head>
<body>
    <div class="loading-screen">
        <div class="div">
          <p id="h2">Loading....<span id="lol"></span></p>
        </div>
      </div>
    <nav>
        <div class="nav-container">
            <div class="thelogo">
                <img class="logoimg" src="../static/img/logo.png" alt="">
                <div class="logo">NEO LIFE CONDO</div>
            </div>
                <div class="link">
                    <a href="#home">HOME</a>
                    <a href="#concept" >CONCEPT</a>
                    <a href="#reserve" >RESERVE</a>
                    <a href="#facilities" >FACILITIES</a>
                    <a href="#contact" >CONTACT</a>
                </div>
                <div class="member"><a href="/login">MEMBER</a></div>
        </div>
    </nav>
    
    <!-- ปุ่มเปิด Sidebar -->
    <button class="menu-btn" id="menu-button" onclick="toggleSidebar()">☰</button>
    
    <!-- Sidebar เมนู -->
    <div class="sidebar" id="mySidebar">
        <!-- <a href="javascript:void(0)" onclick="toggleSidebar()">❌ ปิด</a> -->
        <a href="#home">HOME</a>
        <a href="#concept">CONCEPT</a>
        <a href="#reserve">RESERVE</a>
        <a href="#facilities">FACILITIES</a>
        <a href="#contact">CONTACT</a>
        <a href="#">MEMBER</a>
    </div>

    <div class="home" id="home">
        <div class="slideshow-container">
            <div class="mySlides fade">
                <img src="../static/img/slidecondo1.png" alt="Slide 1">
            </div>
            <div class="mySlides fade">
                <img src="../static/img/slidecondo8.png" alt="Slide 3">
            </div>
            <div class="mySlides fade">
                <img src="../static/img/slidecondo10.png" alt="Slide 3">
            </div>
        </div>

        <!-- จุดสำหรับเลือกสไลด์ -->
        <div class="dot-container">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
        </div>
    </div>

    <div class="concept" id="concept">
        <h2 >CONCEPT</h2>
        <img src="../static/img/slidecondo11.png" alt="">
        <div class="ch2"><strong>Smart Living ใช้ชีวิตอย่างสมาร์ท แบบคนยุคดิจิทัล</strong></div>
        <p>นี่คือยุคที่ทุกอย่างเชื่อมต่อถึงกัน "Smart Condo" ออกแบบมาเพื่อคนรุ่นใหม่ที่ไม่ยึดติดกับ วิถีเดิม ๆ แต่ต้องการอิสระ ความสะดวกสบาย และเทคโนโลยีที่ตอบโจทย์ไลฟ์สไตล์เราไม่ได้แค่สร้างที่อยู่อาศัย แต่เราสร้าง "ชีวิตที่ง่ายขึ้น"</p>
        <p> ทุกตารางเมตรถูกออกแบบภายใต้แนวคิด "Future Minimalist" ที่เรียบง่ายแต่ล้ำสมัย โดดเด่นด้วยเส้นสายที่สะอาดตา พื้นที่โปร่งโล่งแต่เต็มไปด้วยฟังก์ชันอัจฉริยะ ใช้วัสดุไฮเทคและสีโทนโมเดิร์น พร้อมระบบ Automation ที่ทำให้ทุกอย่างง่ายแค่ปลายนิ้ว
            Minimal ไม่ได้แปลว่าน้อย แต่มันหมายถึง "พอดี" เราเลือกใช้เทคโนโลยีเฉพาะสิ่งที่จำเป็น ให้คุณใช้ชีวิตได้อย่าง อิสระ ปลอดภัย และไม่ยุ่งยาก</p>
    </div>

    <div class="reserve" id="reserve">
        <h2>RESERVE A ROOM</h2>
        <div class="roomshow">
            <div class="filter">
                <div>
                    <h3>ราคา</h3>
                    <label><input type="checkbox" value="10,000" class="price-checkbox">฿ 10,000</label><br>
                    <label><input type="checkbox" value="15,000" class="price-checkbox">฿ 15,000</label><br>
                    <label><input type="checkbox" value="25,000" class="price-checkbox">฿ 25,000</label><br>
                    <label><input type="checkbox" value="45,500" class="price-checkbox">฿ 45,500</label><br>
                </div>
                <div>
                <h3>ชั้น</h3>
                    <label><input type="checkbox" value="1" class="floor-checkbox">ชั้น 1</label><br>
                    <label><input type="checkbox" value="2" class="floor-checkbox">ชั้น 2</label><br>
                    <label><input type="checkbox" value="3" class="floor-checkbox">ชั้น 3</label><br>
                    <label><input type="checkbox" value="4" class="floor-checkbox">ชั้น 4</label><br>
                </div>
                <div>
                    <h3>ทิศห้อง</h3>
                    <label><input type="checkbox" value="ห้องหันทางทิศเหนือ" class="direction-checkbox">ห้องหันทางทิศเหนือ</label><br>
                    <label><input type="checkbox" value="ห้องหันทางทิศใต้" class="direction-checkbox">ห้องหันทางทิศใต้</label><br>
                </div>
                <div>
                    <h3>ห้องหัวมุม</h3>
                    <label><input type="checkbox" value="Yes" class="corner-checkbox">เฉพาะห้องมุม</label><br>
                </div>
            </div>
            <div class="container" id="room-list">>
            
            </div>
        </div>
    </div>
    <div class="facilities" id="facilities">
        <h2>FACILITIES</h2>
        <div class="facitem">
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/meeting.png" alt="">
                </div>
                <p>ห้องประชุม</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/studyroom.png" alt="">
                    
                </div>
                <p>พื้นที่อ่านหนังสือ</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/livingroom.png" alt="">
                    
                </div>
                <p>ห้องนั่งเล่น</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/swimmingpool.png" alt="">
                    
                </div> 
                <p>สระว่ายน้ำ</p> 
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/park.png" alt="">
                    
                </div> 
                <p>สวนสาธารณะ</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/gym.png" alt="">
                    
                </div>
                <p>ยิม</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/badminton.png" alt="">
                    
                </div>
                <p>สนามแบดมินตัน</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/bas.png" alt="">
                    
                </div>
                <p>สนามบาส</p>
            </div>
            <div class="faciall">
                <div class="imgfac">
                    <img src="../static/img/theater.png" alt="">
                </div>
                <p>ห้องดูหนัง</p>
            </div>
        </div>
    </div>
    <div class="contact" id="contact">
        <div class="c_logo">
            <img src="../static/img/logo.png" alt="">
            <p>NEO LIFE CONDO</p>
        </div>
        <div class="c_address">
            <p>699 ฉลองกรุง 1 ฉลองกรุง, ถ.ฉลองกรุง, ข.ลาดกระบัง กรุงเทพมหานคร, 10520 </p>
        </div>
        <div class="c_contact">
            <ul class="wrapper">
                <li class="icon line" onclick="copyToClipboard('neolifecondo')">
                    <span class="tooltip">Line</span>
                    <img src="../static/img/line.png">
                  </li>
                <li class="icon facebook" onclick="window.open('https://www.facebook.com/chatchawan.tongsirikun', '_blank')">
                  <span class="tooltip">Facebook</span>
                  <img src="../static/img/facebook.png">
                </li>
                <li class="icon mail" onclick="copyToClipboard('66070108@kmitl.ac.th')">
                  <span class="tooltip">Email</span>
                  <img src="../static/img/mail.png">
                </li>
                <li class="icon phone" onclick="copyToClipboard('0650566654')">
                  <span class="tooltip">0650566654</span>
                  <img src="../static/img/phone.png">
                </li>
              </ul>
        </div>
    </div>

    <script>
        function changeAnimationDuration(duration) {
          const divElement = document.querySelector('.div');
          divElement.style.animationDuration = duration;
        }

        setTimeout(function() {
          changeAnimationDuration('5s');
        }, 2000);

        setTimeout(function() {
          const loadingScreen = document.querySelector('.loading-screen');
          loadingScreen.style.display = 'none';
        }, 2400);

        let slideIndex = 0;
        showSlides();

        // Function to show slides 
        function showSlides() {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1; }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            setTimeout(showSlides, 8000);
        }

        document.addEventListener("DOMContentLoaded", async () => {
        const resultsDiv = document.getElementById("room-list");
        let rooms = [];
    
        // โหลด JSON file
        try {
            const response = await fetch("http://localhost:3000/api/condo");
            const data = await response.json();
            rooms = data.rooms; // ใช้ข้อมูลจาก "rooms" ใน JSON
        } catch (error) {
            console.error("Error loading JSON:", error);
        }
    
        // ฟังก์ชันแสดงผล
        function displayRooms(filteredRooms) {
            resultsDiv.innerHTML = filteredRooms.length > 0
                ? filteredRooms.map(room => `
                <div class="room-card">
                    <img src="${room.image}" alt="ห้อง ${room.room_number}">
                    <div class="room-info">
                        <h3>ห้อง ${room.room_number}</h3>
                        <p class="price">฿ ${Number(room.price).toLocaleString()}  /เดือน</p>
                        <div class="features">
                            <p>สิ่งอำนวยความสะดวก </p>
                            <div class="featurs_des">✅Furniture</div>
                            <div class="featurs_des">✅Air Conditioner</div>
                            <div class="featurs_des">✅Water Heater</div>
                            <div class="featurs_des">✅Samsung LED 4.5 Smart TV 4K</div>
                        </div>
                        <div class="di_sta">
                            <div class="di_st_item"><p>${room.direction}</p></div>
                            <div class="di_st_item"><p>${room.common_fee ? "จ่ายส่วนกลาง" : "ไม่ต้องจ่ายส่วนกลาง"}</p></div>
                        </div>
                        <a href="/condo/${room.room_id}" >
                            <div class="btn">
                                รายละเอียดเพิ่มเติม
                            </div>
                        </a>
                    </div>
                    <hr class="vertical">
                    <div class="dc_room">
                        <div class="dc_room_1">
                        <img src="/static/img/grid.png" > <p> ขนาด: ${room.floor}</p>
                        </div>
                        <div class="dc_room_1">
                        <img src="/static/img/double-beds.png" > <p> ห้องนอน: ${room.bed_room}</p> 
                        </div>
                        <div class="dc_room_1">
                        <img src="/static/img/bath.png" > <p>ห้องน้ำ: ${room.bath_room}</p>
                        </div>
                        <div class="dc_room_1">
                        <img src="/static/img/layers.png" > <p> ชั้น: ${room.floor}</p>
                        </div>
                        <div class="dc_room_1">
                        <img src="/static/img/vet-grey.png"> <p>Pet Friendly</p>
                        </div>
                    </div>
                </div>
                `).join("")
                : "<p>ไม่มีห้องที่ตรงกับเงื่อนไข</p>";
        }
    
        // ฟังก์ชันกรองห้อง/บ้านตามหลายตัวเลือก
        function filterRooms() {
            const checkedPrices = [...document.querySelectorAll(".price-checkbox:checked")].map(cb => cb.value);
            const checkedDirections = [...document.querySelectorAll(".direction-checkbox:checked")].map(cb => cb.value);
            const checkedFloors = [...document.querySelectorAll(".floor-checkbox:checked")].map(cb => cb.value);
            const checkedCorners = [...document.querySelectorAll(".corner-checkbox:checked")].map(cb => cb.value);
        
            // ตรวจสอบการเลือก "แสดงทั้งหมด" สำหรับแต่ละฟิลด์
            const allPricesSelected = document.querySelector(".price-checkbox-all")?.checked || false;
            const allDirectionsSelected = document.querySelector(".direction-checkbox-all")?.checked || false;
            const allFloorsSelected = document.querySelector(".floor-checkbox-all")?.checked || false;
            const allCornersSelected = document.querySelector(".corner-checkbox-all")?.checked || false;
        
            const filtered = rooms.filter(room => {
                const matchesPrice = allPricesSelected || (checkedPrices.length ? checkedPrices.includes(Number(room.price).toLocaleString()) : true);
                const matchesDirection = allDirectionsSelected || (checkedDirections.length ? checkedDirections.includes(room.direction) : true);
                const matchesFloor = allFloorsSelected || (checkedFloors.length ? checkedFloors.includes(room.floor.toString()) : true);
                const matchesCorner = allCornersSelected || (checkedCorners.length ? checkedCorners.includes(room.corner) : true);
        
                return matchesPrice && matchesDirection && matchesFloor && matchesCorner;
            });
        
            displayRooms(filtered);
        }
        
        // Event Listener สำหรับ Checkbox ทุกตัว
        document.querySelectorAll(".price-checkbox, .direction-checkbox, .floor-checkbox, .corner-checkbox").forEach(checkbox => {
            checkbox.addEventListener("change", filterRooms);
        });
    
        // แสดงผลทั้งหมดตอนเริ่ม
        displayRooms(rooms);
    });

    var check = true;
    function toggleSidebar() {
        const change_color = document.getElementById("menu-button");

        if(check === true){
            change_color.style.backgroundColor = "#333";
            check = false;
        }else {
            change_color.style.backgroundColor = "#27292C";
            check = true;
        }
        document.getElementById("mySidebar").classList.toggle("open-sidebar");
    }

    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(() => {
            Swal.fire({
              title: "คัดลอกสำเร็จ!",
              icon: "success",
              showConfirmButton: false,
              timer: 1000
            });
        }).catch(err => {
            console.error("คัดลอกไม่สำเร็จ", err);
        });
    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>